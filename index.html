<head>
  <title>Jin ≠ Gin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700&display=swap"
    rel="stylesheet"
  />
  <style>
    a {
      color: rgb(118, 118, 121);
    }
  </style>
</head>

<body>
  <nav class="navbar">
    <ul class="navbar-nav">
      <li class="logo">
        <div href="#" class="nav-link" target="_blank">
          <a
            href="https://linjin.me"
            class="link-text logo-text"
            target="_blank"
            >Jin ≠ Gin</a
          >
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fad"
            data-icon="angle-double-right"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 448 512"
            class="svg-inline--fa fa-angle-double-right fa-w-14 fa-5x"
          >
            <g class="fa-group">
              <path
                fill="currentColor"
                d="M224 273L88.37 409a23.78 23.78 0 0 1-33.8 0L32 386.36a23.94 23.94 0 0 1 0-33.89l96.13-96.37L32 159.73a23.94 23.94 0 0 1 0-33.89l22.44-22.79a23.78 23.78 0 0 1 33.8 0L223.88 239a23.94 23.94 0 0 1 .1 34z"
                class="fa-secondary"
              ></path>
              <path
                fill="currentColor"
                d="M415.89 273L280.34 409a23.77 23.77 0 0 1-33.79 0L224 386.26a23.94 23.94 0 0 1 0-33.89L320.11 256l-96-96.47a23.94 23.94 0 0 1 0-33.89l22.52-22.59a23.77 23.77 0 0 1 33.79 0L416 239a24 24 0 0 1-.11 34z"
                class="fa-primary"
              ></path>
            </g>
          </svg>
        </div>
      </li>

      <li class="nav-item">
        <a href="#emby" class="nav-link active">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fas"
            data-icon="play-circle"
            class="svg-inline--fa fa-play-circle fa-w-16"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
          >
            <path
              fill="currentColor"
              d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"
              class="fa-secondary"
            ></path>
          </svg>
          <span class="link-text">Player</span>
        </a>
      </li>

      <li class="nav-item">
        <a href="#ombi" class="nav-link">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fas"
            data-icon="fire"
            class="svg-inline--fa fa-fire fa-w-12"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 384 512"
          >
            <path
              fill="currentColor"
              d="M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"
              class="fa-secondary"
            ></path>
          </svg>
          <span class="link-text">Request</span>
        </a>
      </li>

      <!--
      <li class="nav-item">
        <a href="#" class="nav-link">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fad"
            data-icon="space-station-moon-alt"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
            class="svg-inline--fa fa-space-station-moon-alt fa-w-16 fa-5x"
          >
            <g class="fa-group">
              <path
                fill="currentColor"
                d="M501.70312,224H448V160H368V96h48V66.67383A246.86934,246.86934,0,0,0,256,8C119.03125,8,8,119.0332,8,256a250.017,250.017,0,0,0,1.72656,28.26562C81.19531,306.76953,165.47656,320,256,320s174.80469-13.23047,246.27344-35.73438A250.017,250.017,0,0,0,504,256,248.44936,248.44936,0,0,0,501.70312,224ZM192,240a80,80,0,1,1,80-80A80.00021,80.00021,0,0,1,192,240ZM384,343.13867A940.33806,940.33806,0,0,1,256,352c-87.34375,0-168.71094-11.46094-239.28906-31.73633C45.05859,426.01953,141.29688,504,256,504a247.45808,247.45808,0,0,0,192-91.0918V384H384Z"
                class="fa-secondary"
              ></path>
              <path
                fill="currentColor"
                d="M256,320c-90.52344,0-174.80469-13.23047-246.27344-35.73438a246.11376,246.11376,0,0,0,6.98438,35.998C87.28906,340.53906,168.65625,352,256,352s168.71094-11.46094,239.28906-31.73633a246.11376,246.11376,0,0,0,6.98438-35.998C430.80469,306.76953,346.52344,320,256,320Zm-64-80a80,80,0,1,0-80-80A80.00021,80.00021,0,0,0,192,240Zm0-104a24,24,0,1,1-24,24A23.99993,23.99993,0,0,1,192,136Z"
                class="fa-primary"
              ></path>
            </g>
          </svg>
          <span class="link-text">Space</span>
        </a>
      </li>
      -->

      <li class="nav-item">
        <a href="https://wa.me/6591526878" class="nav-link" target="_blank">
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fad"
            data-icon="space-shuttle"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 640 512"
            class="svg-inline--fa fa-space-shuttle fa-w-20 fa-5x"
          >
            <g class="fa-group">
              <path
                fill="currentColor"
                d="M32 416c0 35.35 21.49 64 48 64h16V352H32zm154.54-232h280.13L376 168C243 140.59 222.45 51.22 128 34.65V160h18.34a45.62 45.62 0 0 1 40.2 24zM32 96v64h64V32H80c-26.51 0-48 28.65-48 64zm114.34 256H128v125.35C222.45 460.78 243 371.41 376 344l90.67-16H186.54a45.62 45.62 0 0 1-40.2 24z"
                class="fa-secondary"
              ></path>
              <path
                fill="currentColor"
                d="M592.6 208.24C559.73 192.84 515.78 184 472 184H186.54a45.62 45.62 0 0 0-40.2-24H32c-23.2 0-32 10-32 24v144c0 14 8.82 24 32 24h114.34a45.62 45.62 0 0 0 40.2-24H472c43.78 0 87.73-8.84 120.6-24.24C622.28 289.84 640 272 640 256s-17.72-33.84-47.4-47.76zM488 296a8 8 0 0 1-8-8v-64a8 8 0 0 1 8-8c31.91 0 31.94 80 0 80z"
                class="fa-primary"
              ></path>
            </g>
          </svg>
          <span class="link-text">Support</span>
        </a>
      </li>
    </ul>
  </nav>

  <main>
    <iframe id="iframe_emby" class="active" src="" allow="fullscreen"></iframe>
    <iframe id="iframe_ombi" class="" src="/ombi" allow="fullscreen"></iframe>
  </main>

  <script>
    const onClickHandler = e => {
      const elemA = e.target.closest("a");
      if (elemA.href.includes("#")) {
        e.preventDefault();

        const hrefArray = elemA.href.split("#");

        if (hrefArray.length === 1 || hrefArray[1] === "") return false;

        [...document.querySelectorAll("a.nav-link")].map(item => {
          if (item.href === elemA.href) {
            item.classList.add("active");
          } else {
            item.classList.remove("active");
          }
        });

        const targetId = `iframe_${hrefArray[1]}`;
        [...document.querySelectorAll("iframe")].map(item => {
          if (item.id === targetId) {
            item.classList.add("active");
          } else {
            item.classList.remove("active");
          }
        });
      }
    };

    [...document.querySelectorAll(".nav-link")].map(
      elem => (elem.onclick = onClickHandler)
    );

    const iframe_emby = document.getElementById(`iframe_emby`);
    iframe_emby.src = `/emby${
      location.href.includes("#!") ? "#" + location.href.split("#")[1] : ""
    }`;
    setInterval(() => {
      const locationArray = window.location.href.split("#");
      const hrefArray = iframe_emby.contentWindow.location.href.split("#");
      if (hrefArray.length === 1 || hrefArray[1] === "") return false;

      if (locationArray.length == 1 || locationArray[1] !== hrefArray[1]) {
        if (!hrefArray[1].includes("videoosd.html"))
          window.history.replaceState("", "", `#${hrefArray[1]}`);
      }
    }, 500);
  </script>
</body>
